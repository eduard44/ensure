<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Ensure.js Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Ensure.js</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="ensure.html">ensure</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="ensure.EnsureRecord.html">ensure.EnsureRecord</a>
						</li>
						
						<li>
							<a href="ensure.EnsureRecordInstance.html">ensure.EnsureRecordInstance</a>
						</li>
						
						<li>
							<a href="ensure.EnsureType.html">ensure.EnsureType</a>
						</li>
						
						<li>
							<a href="ensure.Nothing.html">ensure.Nothing</a>
						</li>
						
						<li>
							<a href="ensure.Nullable.html">ensure.Nullable</a>
						</li>
						
						<li>
							<a href="ensure.NullableInstance.html">ensure.NullableInstance</a>
						</li>
						
						<li>
							<a href="ensure.TypeException.html">ensure.TypeException</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#ensureFunction">ensureFunction</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	
	<span class="page-title">Index</span>
	
	












	
	





    <section class="readme-section">
        <article><p><img src="http://assets.chromabits.com/ensure/logo.png" alt="Logo"></p>
<h1>Ensure.js</h1>
<p>A simple library for checking types in Javascript + extras</p>
<p><a href="https://nodei.co/npm/ensure.js/"><img src="https://nodei.co/npm/ensure.js.png?downloads=true&amp;downloadRank=true&amp;stars=true" alt="NPM"></a></p>
<h2>News</h2>
<h3>0.5.1</h3>
<ul>
<li>Nullable types: It is now possible to type check a type or a null value</li>
<li>Nothing type (alias of undefined): You can now type check <code>undefined</code>, which is mostly useless. However, on function shields, Nothing is used to specify when a function doesn't return a value</li>
<li>100% test coverage</li>
</ul>
<h3>0.5.0</h3>
<ul>
<li>Shield (Beta): Protect functions by adding a wrapper that checks function parameters and return values</li>
<li>Documentation (<a href="http://assets.chromabits.com/ensure/docs/">Online Version</a>)</li>
<li>Enforcenment is now optional with <code>ensure.enforce</code>. Production code can skip type checks and run faster.</li>
<li>[Breaking] <strong>has()</strong> no longer throws exceptions by default, it behaves like <strong>ensure()</strong> now with a <code>soft</code> parameter</li>
</ul>
<h2>Usage</h2>
<p>Ensure is available as a global variable (or a module on Node):</p>
<p><strong>ensure(object, type, soft = false)</strong></p>
<ul>
<li><strong>object:</strong> Is the object you are checking</li>
<li><strong>type:</strong> Is the type you are expecting It can be any &quot;class&quot; in JavaScript, such as <code>String</code>, <code>Error</code>, or <code>Boolean</code>.</li>
<li><strong>soft:</strong> If set to true, ensure won't throw an error when the type does not match</li>
</ul>
<p>For most objects, Ensure will do a simple <code>instanceof</code> check. However, some built-in objects (String, Number, Boolean)
are trickier to check so the library will do some custom checking functions for these.</p>
<p>To check if a variable is a string:</p>
<pre><code class="lang-js">var hello = 'Hello World';

ensure(hello, String, true);
&gt;&gt; true

var notString = 1337;

ensure(notString, String, true);
&gt;&gt; false</code></pre>
<p>The previous example is using the &quot;soft mode&quot;, which means that ensure won't throw an Error
when a type does not match, instead it will return a boolean value.</p>
<p>On the default mode:</p>
<pre><code class="lang-js">var hello = 'Hello World';

ensure(hello, String);
&gt;&gt; undefined

ensure(90210, String);
&gt;&gt; TypeException: Invalid type: Expected String</code></pre>
<h2>On the browser</h2>
<p>1.- Install using <a href="http://bower.io">Bower</a>:</p>
<pre><code>bower install ensure.js</code></pre>
<p>2.- Include the JS file on your project:</p>
<pre><code class="lang-html">&lt;script src=&quot;bower_components/ensure.js/ensure.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>3.- Use it!</p>
<pre><code class="lang-js">console.log(ensure('It works!', String));</code></pre>
<h2>On Node.js</h2>
<p>1.- Install using npm:</p>
<pre><code>npm install ensure.js</code></pre>
<p>2.- Include the library in your project:</p>
<pre><code class="lang-js">var ensure = require('ensure.js');</code></pre>
<p>3.- Use it!</p>
<pre><code class="lang-js">console.log(ensure('It works!', String));</code></pre>
<h2>Supported types:</h2>
<ul>
<li>String</li>
<li>Number</li>
<li>Boolean</li>
<li>Array</li>
<li>(Any object)</li>
</ul>
<h2>Record Types</h2>
<p>Languages like C++, Hack and Haskell have nice syntax for data types that hold
information. You might know them as Structs or Records. Ensure.js provides an
emulation of this format. I say emulation because it is not analyzed
statically and might have some behavior differences. However, it can be useful
for adding some validation to certain objects in your application. Instead of
blindly assuming that a certain variable of an object is of a certain type
you can use Ensure Records which automatically perform these checks for you.</p>
<p>Please note that if performance is important, it is always faster to just use
regular objects.</p>
<p><strong>EnsureRecord(spec)</strong></p>
<p><em>spec</em>:
The spec is an object specifying the types of each variable in the record, where
the key is the name of the property and the value the type to expect.</p>
<p><strong>EnsureRecordType(values)</strong></p>
<p><em>values</em>:
The values being applied to the instance being instantiated. Will throw an error if
the types do not match the spec</p>
<h3>Example:</h3>
<pre><code class="lang-js">var ensure = require('ensure'),
    EnsureRecord = ensure.EnsureRecord;

// First, we create our person type
var Person = new EnsureRecord({
        firstName: String,
        lastName: String,
        age: Number
    });

// Then we create an instance by providing its values
var bob = new Person({
        firstName: &quot;Bob&quot;,
        lastName: &quot;Lulz&quot;,
        age: 20
    });

console.log(bob.firstName)
&gt;&gt;&gt; &quot;Bob&quot;

// Note that if we try to brake the spec, we get an error
var alex = new Person({
        firstName: &quot;Bob&quot;,
        lastName: &quot;Lulz&quot;,
        age: &quot;Old&quot;
    });
&gt;&gt;&gt; [TypeException]

// Same with setters:
bob.name = [1, 5, 7];
&gt;&gt;&gt; [TypeException]</code></pre>
<h2>Shields</h2>
<p>Version 0.5.0 now comes with a factory function called Shield (ensure.shield), which allows you to add a simple wrapper around your function that will type check your arguments and your return values automatically for you:</p>
<pre><code class="lang-js">// First we create our shielded function
var myShieldFunction = ensure.shield([Boolean, Array], Number, function (arg1, arg2) {
    if (arg1) {
        return {};
    }

    return 1337;
});

// This works fine
myShieldFunction(false, []);

// This throws an error
myShieldFunction([], []);

// This also throws an error since the return value is not a number
myShieldFunction(true, []);</code></pre>
<h2>Nothing</h2>
<p>Sometimes shielded functions do not return a value, in these cases we use <code>Nothing</code> which is an alias for <code>undefined</code>:</p>
<pre><code class="lang-js">var Nothing = ensure.Nothing,

    myVal,
    myShieldFunction;

myShieldFunction = ensure.shield([Boolean, Array], Nothing, function (arg1, arg2) {
    myVal = arg2.length;
});</code></pre>
<h2>Nullable</h2>
<p>Nullable allows the type check input to be <code>null</code> or the type we are expecting:</p>
<pre><code class="lang-js">var Nullable = ensure.Nullable;

// We can also allow a variable to be null
ensure(null, Nullable(String), true);
&gt;&gt; true

ensure([], Nullable(String), true);
&gt;&gt; false</code></pre>
<p>You can also use NullableInstances in your code:</p>
<pre><code class="lang-js">var Nullable = ensure.Nullable,
    NullableInstance = ensure.NullableInstance,

    SomeNullableArray = new NullableInstance(Array, []);

// Check if it is null
SomeNullableArray.isNull();
&gt;&gt; false

// This works fine
SomeNullableArray.setValue(null);

// Check if it is null again
SomeNullableArray.isNull();
&gt;&gt; true

// They can also be type checked
ensure(SomeNullableArray, Nullable(Array), true);
&gt;&gt; true

// This does not
SomeNullableArray.setValue('hello');</code></pre>
<h2>Other Extras:</h2>
<p><strong>require(object)</strong>
Throw an error if <code>object</code> is undefined, null or an empty string:</p>
<pre><code class="lang-js">var hello;

ensure.require(hello);
&gt;&gt; [Error]

hello = '';

ensure.require(hello);
&gt;&gt; [Error]

hello = 'Hello World';

ensure.require(hello); // This shouldn't do anything (which is good)
&gt;&gt; undefined</code></pre>
<p><strong>requireIsNewThis(constructor, context)</strong>
Throw an error if a constructor is called without <code>new</code></p>
<p>Useful for preventing development mistakes</p>
<pre><code class="lang-js">var myObject = function () {
    ensure.requireIsNewThis(myObject, this);
};

var instance = new newObject(); // This should just create the instance normally
&gt;&gt; undefined

var instance = newObject(); // An error is thrown, new is missing
&gt;&gt; [Error]</code></pre>
<p><strong>isIn(object, array)</strong>
Check if object is in an array:</p>
<pre><code class="lang-js">ensure.isIn(object, array);</code></pre>
<p><strong>isInRange(object, min, max)</strong>
Check if a number is within a range:</p>
<pre><code class="lang-js">ensure.isInRange(object, min, max);</code></pre>
<p>Example:</p>
<pre><code class="lang-js">var hello = 'Hello';

ensure.isInRange(hello.length, 0, 3);
&gt;&gt; false

ensure.isInRange(hello.length, 0, 6);
&gt;&gt; true</code></pre>
<p><strong>isPositiveNumber(object)</strong>
Check if a number is positive:</p>
<pre><code class="lang-js">ensure.isPositiveNumber(object);</code></pre>
<p>and a few more, take a look at the docs</p>
<h2>Development</h2>
<p>To hack on Ensure.js, you need Node.js 0.10+. To setup a dev environment, run the following:</p>
<p>1.- Install grunt:
<code>npm install -g grunt</code></p>
<p>2.- Clone repo:
<code>git clone git@github.com:eduard44/ensure.git</code></p>
<p>3.- cd to repo:
<code>cd ensure</code></p>
<p>4.- Install dependencies for development:
<code>npm install</code> (in the project root)</p>
<p>5.- Start grunt in watch mode:
<code>grunt</code>. This will continuously rebuild ensure.js on every change in <code>/src</code></p>
<p>6.- You can run tests with:
<code>npm test</code></p>
<p>7.- You can check code coverage with:
<code>grunt coverage</code></p>
<p>8.- You can compile documentation with:
<code>grunt jsdoc</code></p></article>
    </section>







				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		Ensure.js Copyright © 2014. Eduardo Trujillo
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>
		on Sun Nov 9th 2014 using the <a
			href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<!--<script src="scripts/sunlight.js"></script>-->
	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "100px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );
			$( '.dropdown-toggle' ).dropdown();
//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

			$( ".tutorial-section pre, .readme-section pre" ).each( function () {
				var $this = $( this );

				var example = $this.find( "code" );
				exampleText = example.html();
				var lang = /{@lang (.*?)}/.exec( exampleText );
				if ( lang && lang[1] ) {
					exampleText = exampleText.replace( lang[0], "" );
					example.html( exampleText );
					lang = lang[1];
				} else {
					lang = "javascript";
				}

				if ( lang ) {

					$this
						.addClass( "sunlight-highlight-" + lang )
						.addClass( "linenums" )
						.html( example.html() );

				}
			} );

			Sunlight.highlightAll( {
				lineNumbers : true,
				showMenu : true,
				enableDoclinks : true
			} );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	<!--Google Analytics-->
	

</body>
</html>